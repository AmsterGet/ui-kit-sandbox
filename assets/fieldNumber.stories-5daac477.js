import{c as B,j as a}from"./bind-68cebb00.js";import{r as h}from"./index-c013ead5.js";import{K as e}from"./keyCodes-e5060420.js";import{B as D}from"./baseIconButton-74d9f64a.js";import{a as w,S as H}from"./minus-54173e71.js";import"./_commonjsHelpers-725317a4.js";const k=5,g=16,G=[e.TAB_KEY_CODE,e.BACKSPACE_KEY_CODE,e.ARROW_LEFT_KEY_CODE,e.ARROW_UP_KEY_CODE,e.ARROW_RIGHT_KEY_CODE,e.ARROW_DOWN_KEY_CODE,e.DELETE_KEY_CODE,e.NUM_LOCK_0_KEY_CODE,e.NUM_LOCK_1_KEY_CODE,e.NUM_LOCK_2_KEY_CODE,e.NUM_LOCK_3_KEY_CODE,e.NUM_LOCK_4_KEY_CODE,e.NUM_LOCK_5_KEY_CODE,e.NUM_LOCK_6_KEY_CODE,e.NUM_LOCK_7_KEY_CODE,e.NUM_LOCK_8_KEY_CODE,e.NUM_LOCK_9_KEY_CODE],P="_disabled_3tc9r_6",X="_label_3tc9r_10",$="_sign_3tc9r_21",z="_error_3tc9r_36",J="_touched_3tc9r_36",Q="_filled_3tc9r_41",Z="_input_3tc9r_26",ee={"field-number":"_field-number_3tc9r_1",disabled:P,label:X,sign:$,"input-container":"_input-container_3tc9r_26",error:z,touched:J,filled:Q,"input-field":"_input-field_3tc9r_48",input:Z},l=B.bind(ee),f=({value:n="",placeholder:C="0",disabled:t=!1,onChange:i,onFocus:o,onBlur:re,label:K,postfix:c="",min:u=0,max:_=Number.MAX_SAFE_INTEGER,title:A,error:j,touched:U=!1,...F})=>{const d=h.useRef(null),S=r=>{let s=r.target.value.replace(/^0(?=\d+|^\d)/g,"");if(s===""){i("");return}s=+s,s>=u&&s<=_&&i(s)},q=r=>{const{keyCode:s}=r;G.includes(s)||(s<e.NUMBER_START_KEY_CODE||s>e.NUMBER_END_KEY_CODE||r.shiftKey)&&r.preventDefault()},v=()=>{const r=+n-1;r>=u&&r<=_&&i(r)},T=()=>{const r=+n+1;r>=u&&r<=_&&i(r)},O=C+c,W=h.useMemo(()=>{let r=(String(n)||O).length;return c&&!n&&(r+=1),r>g?`${g}ch`:`${r||k}ch`},[O,c,n]),I=()=>{d&&d.current&&d.current.focus(),o&&o()};return a.jsxs("div",{className:l("field-number",{disabled:t}),children:[K&&a.jsx("span",{className:l("label"),children:K}),a.jsxs("div",{className:l("input-container",{filled:!!n||n===0,error:j,disabled:t,touched:U}),title:A,children:[a.jsx(D,{className:l("sign","minus"),disabled:t,onClick:v,children:a.jsx(w,{})}),a.jsxs("span",{className:l("input-field",{disabled:t}),onClick:I,children:[a.jsx("input",{ref:d,className:l("input"),type:"number",value:n,placeholder:O,disabled:t,min:u,max:_,onKeyDown:t?void 0:q,onChange:t?void 0:S,onFocus:t?void 0:o,style:{width:W},...F}),!!c&&(n===0||!!n)&&a.jsx("span",{children:c.slice(0,1)})]}),a.jsx(D,{className:l("sign","plus"),disabled:t,onClick:T,children:a.jsx(H,{})})]})]})};try{f.displayName="FieldNumber",f.__docgenInfo={description:"",displayName:"FieldNumber",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string | number) => void"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"FieldNumberValue"}},placeholder:{defaultValue:{value:"0"},description:"",name:"placeholder",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},postfix:{defaultValue:{value:""},description:"",name:"postfix",required:!1,type:{name:"string"}},min:{defaultValue:{value:"0"},description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:{value:"Number.MAX_SAFE_INTEGER"},description:"",name:"max",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},touched:{defaultValue:{value:"false"},description:"",name:"touched",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void | FocusEventHandler<HTMLInputElement>)"}}}}}catch{}const oe={title:"Field Number",component:f,parameters:{layout:"centered"},tags:["autodocs"],render:n=>{const[C,t]=h.useState("0"),i=o=>{t(o)};return a.jsx(a.Fragment,{children:a.jsx(f,{...n,value:C,onChange:i})})}},m={args:{}},p={args:{disabled:!0}},E={args:{label:"Enter you number"}};var N,b,y;m.parameters={...m.parameters,docs:{...(N=m.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {}
}`,...(y=(b=m.parameters)==null?void 0:b.docs)==null?void 0:y.source}}};var Y,L,M;p.parameters={...p.parameters,docs:{...(Y=p.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    disabled: true
  }
}`,...(M=(L=p.parameters)==null?void 0:L.docs)==null?void 0:M.source}}};var V,R,x;E.parameters={...E.parameters,docs:{...(V=E.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    label: 'Enter you number'
  }
}`,...(x=(R=E.parameters)==null?void 0:R.docs)==null?void 0:x.source}}};const ce=["Default","Disabled","WithLabel"];export{m as Default,p as Disabled,E as WithLabel,ce as __namedExportsOrder,oe as default};
//# sourceMappingURL=fieldNumber.stories-5daac477.js.map
