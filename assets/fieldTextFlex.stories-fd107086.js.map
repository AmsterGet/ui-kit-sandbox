{"version":3,"file":"fieldTextFlex.stories-fd107086.js","sources":["../../src/components/fieldTextFlex/fieldTextFlex.tsx"],"sourcesContent":["import classNames from 'classnames/bind';\nimport styles from './fieldTextFlex.module.scss';\nimport {\n  ChangeEventHandler,\n  ComponentPropsWithRef,\n  FC,\n  FocusEventHandler,\n  ForwardedRef,\n  KeyboardEventHandler,\n  forwardRef,\n  useId,\n} from 'react';\n\nconst cx = classNames.bind(styles);\n\nconst HEIGHT = 72;\nconst BORDER = 2;\n\nexport interface FieldTextFlexProps extends ComponentPropsWithRef<'textarea'> {\n  value: string;\n  readonly?: boolean;\n  error?: string;\n  touched?: boolean;\n  label?: string;\n  helpText?: string;\n  onChange?: ChangeEventHandler<HTMLTextAreaElement>;\n  onFocus?: FocusEventHandler<HTMLTextAreaElement>;\n  onBlur?: FocusEventHandler<HTMLTextAreaElement>;\n  onKeyUp?: KeyboardEventHandler<HTMLTextAreaElement>;\n}\n\n// DS link - https://www.figma.com/file/gjYQPbeyf4YsH3wZiVKoaj/%F0%9F%9B%A0-RP-DS-6?type=design&node-id=13023-1859&mode=design&t=vL74fEo9Hq6GFAXW-0\nexport const FieldTextFlex: FC<FieldTextFlexProps> = forwardRef(\n  (\n    {\n      value = '',\n      readonly = false,\n      error = '',\n      placeholder = '',\n      disabled = false,\n      touched = false,\n      className = '',\n      label = '',\n      helpText = '',\n      onChange,\n      onFocus,\n      onBlur,\n      onKeyUp,\n      ...rest\n    },\n    ref: ForwardedRef<HTMLTextAreaElement>,\n  ) => {\n    const textAriaId = useId();\n    const hasError = error && touched;\n\n    const resizeHeight = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n      event.target.style.height = `${HEIGHT}px`;\n      event.target.style.height = `${event.target.scrollHeight + BORDER}px`;\n    };\n    return (\n      <>\n        {label && (\n          <label htmlFor={textAriaId} className={cx('label', { disabled })}>\n            {label}\n          </label>\n        )}\n        <textarea\n          id={textAriaId}\n          ref={ref}\n          className={cx('text-area', className, {\n            disabled,\n            error,\n            touched,\n          })}\n          value={value}\n          placeholder={placeholder}\n          disabled={disabled}\n          readOnly={readonly}\n          onChange={onChange}\n          onFocus={onFocus}\n          onBlur={onBlur}\n          onKeyUp={onKeyUp}\n          onInput={resizeHeight}\n          {...rest}\n        >\n          {value}\n        </textarea>\n        {(hasError || helpText) && (\n          <div className={cx('additional-content', { disabled })}>\n            {hasError && <span className={cx('error-text')}>{error}</span>}\n            {helpText && <span className={cx('help-text')}>{helpText}</span>}\n          </div>\n        )}\n      </>\n    );\n  },\n);\n"],"names":["cx","classNames","styles","HEIGHT","BORDER","FieldTextFlex","forwardRef","value","readonly","error","placeholder","disabled","touched","className","label","helpText","onChange","onFocus","onBlur","onKeyUp","rest","ref","textAriaId","useId","hasError","resizeHeight","event","jsxs","Fragment","jsx"],"mappings":"saAaAA,EAAAC,GAAA,KAAAC,EAAA,EAEAC,GAAA,GACAC,GAAA,EAgBOC,EAAAC,EAAA,WAA8C,CAAA,CAEjD,MAAAC,EAAA,GACU,SAAAC,EAAA,GACG,MAAAC,EAAA,GACH,YAAAC,EAAA,GACM,SAAAC,EAAA,GACH,QAAAC,EAAA,GACD,UAAAC,EAAA,GACE,MAAAC,EAAA,GACJ,SAAAC,EAAA,GACG,SAAAC,EACX,QAAAC,EACA,OAAAC,GACA,QAAAC,GACA,GAAAC,EACG,EAAAC,KAAA,CAIL,MAAAC,EAAAC,EAAAA,QACAC,EAAAf,GAAAG,EAEAa,GAAAC,GAAA,CACEA,EAAA,OAAA,MAAA,OAAA,GAAAvB,EAAA,KACAuB,EAAA,OAAA,MAAA,OAAA,GAAAA,EAAA,OAAA,aAAAtB,EAAA,IAAiE,EAEnE,OAAAuB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAEKd,GAAAe,EAAAA,IAAA,QAAA,CAAA,QAAAP,EAAA,UAAAtB,EAAA,QAAA,CAAA,SAAAW,CAAA,CAAA,EAAA,SAAAG,CAAA,CAAA,EAGCe,EAAA,IAEF,WAAC,CAAA,GAAAP,EACK,IAAAD,GACJ,UAAArB,EAAA,YAAAa,EAAA,CACsC,SAAAF,EACpC,MAAAF,EACA,QAAAG,CACA,CAAA,EACD,MAAAL,EACD,YAAAG,EACA,SAAAC,EACA,SAAAH,EACU,SAAAQ,EACV,QAAAC,EACA,OAAAC,GACA,QAAAC,GACA,QAAAM,GACS,GAAAL,GACL,SAAAb,CAEH,CAAA,GACHiB,GAAAT,IAAAY,EAAA,KAAA,MAAA,CAAA,UAAA3B,EAAA,qBAAA,CAAA,SAAAW,CAAA,CAAA,EAAA,SAAA,CAGKa,GAAAK,EAAAA,IAAA,OAAA,CAAA,UAAA7B,EAAA,YAAA,EAAA,SAAAS,EAAA,EAAsDM,GAAAc,EAAAA,IAAA,OAAA,CAAA,UAAA7B,EAAA,WAAA,EAAA,SAAAe,EAAA,CACE,EAAA,CAC3D,CAAA,CAAA,CAEJ,CAGN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}